# ─────────────────────────────────────────────────────────────────────────────
# Supabase Backup Configuration
# ─────────────────────────────────────────────────────────────────────────────

# [API] Supabase Management API / CLI Access
# Generate at https://supabase.com/dashboard/account/tokens
SUPABASE_ACCESS_TOKEN="sbp_your_access_token"

# [Database] Project Identification
# Project Reference ID (e.g. "abcdefghijklm")
SUPABASE_PROJECT_REF="your-project-ref"
TEST_SUPABASE_PROJECT_REF="your-test-project-ref"

# [Test/Restore Environment Only]
# Database Password for the TEST/DESTINATION database.
# You will need this to perform a restore, as it uses direct psql connections.
# NOTE: YOU SHOULD NOT NEED THE PRODUCTION DB PASSWORD FOR BACKUPS.
TEST_SUPABASE_DB_PASSWORD="your-test-db-password"

# [API] Supabase Management / Service Role
# SERVICE_ROLE_KEY is required for full storage access (bypassing RLS)
# Find in Project Settings -> API
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"
TEST_SUPABASE_SERVICE_ROLE_KEY="your-test-service-role-key"

# [Local Paths]
# Where raw dumps are temporarily stored before being encoded into Borg
LOCAL_BACKUP_DIR="$HOME/backups/supabase/latest"

# [Borg] Backup Repository
BORG_REPO="$HOME/backups/supabase/borg-repo"
BORG_RETENTION_DAYS="21"

# Directory to extract Borg archives to (required for restore from archives)
BORG_EXTRACT_DIR="$HOME/backups/supabase/extract"
