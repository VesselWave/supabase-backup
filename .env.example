# ─────────────────────────────────────────────────────────────────────────────
# Supabase Backup Configuration
# ─────────────────────────────────────────────────────────────────────────────

# [API] Supabase Management API / CLI Access
# Generate at https://supabase.com/dashboard/account/tokens
SUPABASE_ACCESS_TOKEN="sbp_your_access_token"
TEST_SUPABASE_ACCESS_TOKEN="sbp_your_test_access_token"

# [Database] Project Identification
# Project Reference ID (e.g. "abcdefghijklm")
SUPABASE_PROJECT_REF="your-project-ref"
TEST_SUPABASE_PROJECT_REF="your-test-project-ref"

# [Test/Restore Environment Only]
# Database Password for the TEST/DESTINATION database.
# You will need this to perform a restore, as it uses direct psql connections.
# NOTE: YOU SHOULD NOT NEED THE PRODUCTION DB PASSWORD FOR BACKUPS.
TEST_SUPABASE_DB_PASSWORD="your-test-db-password"

# [S3 Storage] (S3-Compatible)
# Find these in Supabase Dashboard -> Project Settings -> Storage
S3_ACCESS_KEY_ID="your-s3-access-key"
S3_SECRET_ACCESS_KEY="your-s3-secret-key"
S3_REGION="us-east-1"
S3_ENDPOINT="https://$SUPABASE_PROJECT_REF.supabase.co/storage/v1/s3"

# [Local Paths]
# Where raw dumps are temporarily stored before being encoded into Borg
LOCAL_BACKUP_DIR="$HOME/backups/supabase"

# [Borg] Backup Repository
BORG_REPO="$HOME/backups/supabase-borg"
BORG_RETENTION_DAYS="21"

# [Restore Configuration]
# Test Environment S3 (where to restore storage)
TEST_S3_ACCESS_KEY_ID="test-access-key"
TEST_S3_SECRET_ACCESS_KEY="test-secret-key"
TEST_S3_REGION="us-east-1"
TEST_S3_ENDPOINT="https://$TEST_SUPABASE_PROJECT_REF.supabase.co/storage/v1/s3"
