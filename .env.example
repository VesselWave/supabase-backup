# ─────────────────────────────────────────────────────────────────────────────
# Supabase Backup Configuration
# ─────────────────────────────────────────────────────────────────────────────

# [API] Supabase Management API / CLI Access
# Generate at https://supabase.com/dashboard/account/tokens
# This is used for both CLI authentication and API calls.
SUPABASE_ACCESS_TOKEN="sbp_your_access_token"
TEST_SUPABASE_ACCESS_TOKEN="sbp_your_test_access_token"

# Project Reference ID (e.g. "abcdefghijklm")
SUPABASE_PROJECT_REF="your-project-ref"
TEST_SUPABASE_PROJECT_REF="your-test-project-ref"

# [S3 Storage] (S3-Compatible)
# Find these in Supabase Dashboard -> Project Settings -> Storage
S3_ACCESS_KEY_ID="your-s3-access-key"
S3_SECRET_ACCESS_KEY="your-s3-secret-key"
S3_REGION="us-east-1"
S3_ENDPOINT="https://$SUPABASE_PROJECT_REF.supabase.co/storage/v1/s3"

# [Local Paths]
# Where raw dumps are temporarily stored before being encoded into Borg
# Note: when using systemd, use absolute path
LOCAL_BACKUP_DIR="$HOME/backups/supabase"

# [Borg] Backup Repository
# Note: Initialized with encryption=none by default
# Note: when using systemd, use absolute path
BORG_REPO="$HOME/backups/supabase-borg"
BORG_RETENTION_DAYS="21"

# [Restore Configuration]
# Test Environment Database URL
TEST_SUPABASE_DB_URL="postgresql://postgres:password@db.test.supabase.co:5432/postgres"

# Test Environment S3 (where to restore storage)
TEST_S3_ACCESS_KEY_ID="test-access-key"
TEST_S3_SECRET_ACCESS_KEY="test-secret-key"
TEST_S3_REGION="us-east-1"
TEST_S3_ENDPOINT="https://your-test-project-ref.supabase.co/storage/v1/s3"
